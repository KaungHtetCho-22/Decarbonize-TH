name: Notify LINE Group on GitHub Push

on:
  push:
    branches:
      - data-eda

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send LINE Notification
        run: |
          curl -X POST "https://notify-api.line.me/api/notify" \
          -H "Authorization: Bearer ${{ secrets.LINE_NOTIFY_TOKEN }}" \
          -F message="ðŸš€ *GitHub Repository Update* ðŸš€" \
          -F message="ðŸ”¹ *Repo:* ${{ github.repository }}" \
          -F message="ðŸ”¹ *Branch:* $(echo ${{ github.ref }} | sed 's/refs\/heads\///')" \
          -F message="ðŸ”¹ *Author:* ${{ github.actor }}" \
          -F message="ðŸ”¹ *Commit Message:*" \
          -F message="âžœ ${{ github.event.head_commit.message }}" \
          -F message="ðŸ”— [View Commit](https://github.com/${{ github.repository }}/commit/${{ github.sha }})"
